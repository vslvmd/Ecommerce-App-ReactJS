{"ast":null,"code":"var _jsxFileName = \"/Users/vasaamadea/Documents/mini_project_3/ecommerce-app/src/pages/dashboard/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Button, Table } from 'reactstrap';\nimport Modal from \"../../component/Modal\";\nimport Form from \"./form\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst productApiURL = process.env.REACT_APP_PRODUCT_API_URL;\n\nconst Dashboard = () => {\n  _s();\n\n  const [headers, setHeader] = useState([]);\n  const [data, setData] = useState([]);\n  const [actionForm, setActionForm] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [updateId, setUpdateId] = useState(null);\n\n  const handleCreate = () => {\n    setActionForm(\"create\");\n    setModalVisible(true);\n  };\n\n  const handleDelete = async id => {\n    await axios.delete(`${productApiURL}/${id}`).then(() => {\n      const updatedData = data.filter(v => id !== v.id);\n      setData(updatedData);\n    }).catch(err => alert(err));\n  };\n\n  const handleEdit = id => {\n    setUpdateId(id);\n    setActionForm(\"edit\");\n    setModalVisible(true);\n  };\n\n  const getData = async () => {\n    await axios.get(`${productApiURL}`).then(_ref => {\n      let {\n        data\n      } = _ref;\n      setData(data);\n    }).catch(err => alert(err));\n  };\n\n  useEffect(() => {\n    const header = ['Id', 'Name', 'Quantity', 'Price', 'action'];\n    setHeader(header);\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" PRODUCT LIST \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      onClick: () => handleCreate(),\n      children: \" Add Data + \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), \"  \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: headers.map((header, idx) => /*#__PURE__*/_jsxDEV(\"th\", {\n            children: [header, \" \"]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"row\",\n            children: idx + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: row.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: row.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: row.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => handleEdit(row.id),\n              children: \" Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n              color: \"danger\",\n              onClick: () => handleDelete(row.id),\n              children: \" Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: `Form ${actionForm} Data`,\n      isOpen: modalVisible,\n      setOpen: setModalVisible,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        action: actionForm,\n        data: data,\n        setModalVisible: setModalVisible,\n        updateId: updateId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Dashboard, \"Q62zTiXfNb8EG7pX0oUiDPbK8JQ=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["/Users/vasaamadea/Documents/mini_project_3/ecommerce-app/src/pages/dashboard/index.jsx"],"names":["useState","useEffect","Button","Table","Modal","Form","axios","productApiURL","process","env","REACT_APP_PRODUCT_API_URL","Dashboard","headers","setHeader","data","setData","actionForm","setActionForm","modalVisible","setModalVisible","updateId","setUpdateId","handleCreate","handleDelete","id","delete","then","updatedData","filter","v","catch","err","alert","handleEdit","getData","get","header","map","idx","row","name","quantity","price"],"mappings":"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","sourcesContent":["import  {\n    useState,\n    useEffect\n  } from \"react\";\n  import {\n    Button,\n    Table\n  } from 'reactstrap';\n  import Modal from \"../../component/Modal\";\n  import Form from \"./form\";\n  import axios from \"axios\";\n  \n  const productApiURL = process.env.REACT_APP_PRODUCT_API_URL;\n  \n  const Dashboard = () => {\n  \n    const [headers, setHeader] = useState([])\n    const [data, setData] = useState([]);\n    const [actionForm, setActionForm] = useState(null);\n    const [modalVisible, setModalVisible] = useState(false);\n    const [updateId, setUpdateId] = useState(null);\n  \n    const handleCreate = () => {\n      setActionForm(\"create\");\n      setModalVisible(true);\n    }\n  \n    const handleDelete = async (id) => {\n      await axios.delete(`${productApiURL}/${id}`)\n      .then(() => {\n        const updatedData = data.filter(v => id !== v.id);\n        setData(updatedData)\n      })\n      .catch(err => alert(err))\n    }\n  \n    const handleEdit = (id) => {\n      setUpdateId(id)\n      setActionForm(\"edit\")\n      setModalVisible(true)\n    }\n  \n    const getData = async () => {\n      await axios.get(`${productApiURL}`)\n      .then(({data}) => {\n        setData(data)\n      })\n      .catch(err => alert(err))\n    }\n  \n    useEffect(() => {\n      const header = ['Id', 'Name', 'Quantity', 'Price', 'action']\n      setHeader(header)\n      getData()\n    }, [])\n  \n    return (\n      <div className=\"dashboard-container\">\n        <h1> PRODUCT LIST </h1>\n        <br />\n        <Button color=\"primary\" onClick={() => handleCreate()} > Add Data + </Button>\n        <br />  <br />\n        <Table>\n          <thead>\n            <tr>\n              {headers.map((header, idx) => (\n                <th key={idx}>{header} </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((row, idx) => (\n              <tr key={idx}>\n                <th scope=\"row\">\n                  {idx + 1}\n                </th>\n                <td>{row.name}</td>\n                <td>{row.quantity}</td>\n                <td>{row.price}</td>\n                <td>\n                  <Button onClick={() => handleEdit(row.id)} > Edit</Button>\n                    &nbsp;&nbsp;\n                  <Button color=\"danger\" onClick={() => handleDelete(row.id)} > Delete</Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n  \n        {/* Modal Form */}\n        <Modal\n          title={`Form ${actionForm} Data`}\n          isOpen={modalVisible}\n          setOpen={setModalVisible}\n          children={\n            <Form\n              action={actionForm}\n              data={data}\n              setModalVisible={setModalVisible}\n              updateId={updateId}\n            />\n          }\n        />\n      </div>\n    )\n  }\n  \n  export default Dashboard;"]},"metadata":{},"sourceType":"module"}